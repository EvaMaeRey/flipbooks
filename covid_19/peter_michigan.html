<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>A collection of COVID-19 Data Visualization</title>
    <meta charset="utf-8" />
    <meta name="author" content="Edited by Gina Reynolds, March 2020" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/hygge.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# A collection of COVID-19 Data Visualization
### Edited by Gina Reynolds, March 2020

---






---


&lt;!-- #geom_segment(aes(xend = end_date, yend = positive), linetype = 2, colour = 'grey') + --&gt;
&lt;!--   #geom_text(aes(x = end_date + 0.1, y = positive, --&gt;
&lt;!--                # label = state), hjust = 0) + --&gt;

---

class: split-40
count: false
 

 
.column[.content[

```r
*covid19us::get_states_current()
```
]]
.column[.content[

```
# A tibble: 56 x 21
   state positive positive_score negative_score negative_regula…
   &lt;chr&gt;    &lt;int&gt;          &lt;int&gt;          &lt;int&gt;            &lt;int&gt;
 1 AK          69              1              1                1
 2 AL         587              1              1                0
 3 AR         381              1              1                1
 4 AZ         736              1              1                0
 5 CA        3879              1              1                1
 6 CO        1430              1              1                1
 7 CT        1291              1              1                1
 8 DC         267              1              1                1
 9 DE         163              1              1                0
10 FL        2765              1              1                1
# … with 46 more rows, and 16 more variables: commercial_score &lt;int&gt;,
#   grade &lt;chr&gt;, score &lt;int&gt;, negative &lt;int&gt;, pending &lt;int&gt;,
#   hospitalized &lt;int&gt;, death &lt;int&gt;, total &lt;int&gt;, last_update &lt;dttm&gt;,
#   check_time &lt;dttm&gt;, total_test_results &lt;int&gt;, fips &lt;chr&gt;,
#   date_modified &lt;dttm&gt;, date_checked &lt;dttm&gt;, notes &lt;chr&gt;,
#   request_datetime &lt;dttm&gt;
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
* arrange(desc(positive))
```
]]
.column[.content[

```
# A tibble: 56 x 21
   state positive positive_score negative_score negative_regula…
   &lt;chr&gt;    &lt;int&gt;          &lt;int&gt;          &lt;int&gt;            &lt;int&gt;
 1 NY       44635              1              1                1
 2 NJ        8825              1              1                1
 3 CA        3879              1              1                1
 4 MI        3657              1              1                0
 5 MA        3240              1              1                0
 6 WA        3207              1              1                1
 7 IL        3060              1              1                1
 8 FL        2765              1              1                1
 9 LA        2746              1              1                1
10 PA        2218              1              1                1
# … with 46 more rows, and 16 more variables: commercial_score &lt;int&gt;,
#   grade &lt;chr&gt;, score &lt;int&gt;, negative &lt;int&gt;, pending &lt;int&gt;,
#   hospitalized &lt;int&gt;, death &lt;int&gt;, total &lt;int&gt;, last_update &lt;dttm&gt;,
#   check_time &lt;dttm&gt;, total_test_results &lt;int&gt;, fips &lt;chr&gt;,
#   date_modified &lt;dttm&gt;, date_checked &lt;dttm&gt;, notes &lt;chr&gt;,
#   request_datetime &lt;dttm&gt;
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
* slice(1:10)
```
]]
.column[.content[

```
# A tibble: 10 x 21
   state positive positive_score negative_score negative_regula…
   &lt;chr&gt;    &lt;int&gt;          &lt;int&gt;          &lt;int&gt;            &lt;int&gt;
 1 NY       44635              1              1                1
 2 NJ        8825              1              1                1
 3 CA        3879              1              1                1
 4 MI        3657              1              1                0
 5 MA        3240              1              1                0
 6 WA        3207              1              1                1
 7 IL        3060              1              1                1
 8 FL        2765              1              1                1
 9 LA        2746              1              1                1
10 PA        2218              1              1                1
# … with 16 more variables: commercial_score &lt;int&gt;, grade &lt;chr&gt;, score &lt;int&gt;,
#   negative &lt;int&gt;, pending &lt;int&gt;, hospitalized &lt;int&gt;, death &lt;int&gt;,
#   total &lt;int&gt;, last_update &lt;dttm&gt;, check_time &lt;dttm&gt;,
#   total_test_results &lt;int&gt;, fips &lt;chr&gt;, date_modified &lt;dttm&gt;,
#   date_checked &lt;dttm&gt;, notes &lt;chr&gt;, request_datetime &lt;dttm&gt;
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
* pull(state)
```
]]
.column[.content[

```
 [1] "NY" "NJ" "CA" "MI" "MA" "WA" "IL" "FL" "LA" "PA"
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
*top10states
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

*covid19us::get_states_daily()[1,1]
```
]]
.column[.content[

```
# A tibble: 1 x 1
  date      
  &lt;date&gt;    
1 2020-03-27
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
* pull()
```
]]
.column[.content[

```
[1] "2020-03-27"
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
*end_date
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

*covid19us::get_states_daily()
```
]]
.column[.content[

```
# A tibble: 1,205 x 18
   date       state positive negative pending hospitalized death total hash 
   &lt;date&gt;     &lt;chr&gt;    &lt;int&gt;    &lt;int&gt;   &lt;int&gt;        &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;
 1 2020-03-27 AK          69     2319      13            3     1  2401 588f…
 2 2020-03-27 AL         587     4184      NA           NA     3  4771 c388…
 3 2020-03-27 AR         381     1545       0           48     3  1926 a67d…
 4 2020-03-27 AS           0       NA       0           NA     0     0 84ba…
 5 2020-03-27 AZ         736     7455      30           NA    13  8221 81fb…
 6 2020-03-27 CA        3879    17380   57400          746    78 78659 d7b5…
 7 2020-03-27 CO        1430     8692      NA          184    24 10122 47ea…
 8 2020-03-27 CT        1291     7109      NA          173    27  8400 8904…
 9 2020-03-27 DC         267     1897       2           NA     3  2166 240b…
10 2020-03-27 DE         163       36      NA           15     2   199 86c4…
# … with 1,195 more rows, and 9 more variables: date_checked &lt;dttm&gt;,
#   total_test_results &lt;int&gt;, fips &lt;chr&gt;, death_increase &lt;int&gt;,
#   hospitalized_increase &lt;int&gt;, negative_increase &lt;int&gt;,
#   positive_increase &lt;int&gt;, total_test_results_increase &lt;int&gt;,
#   request_datetime &lt;dttm&gt;
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
* replace_na(list(positive = 0))
```
]]
.column[.content[

```
# A tibble: 1,205 x 18
   date       state positive negative pending hospitalized death total hash 
   &lt;date&gt;     &lt;chr&gt;    &lt;dbl&gt;    &lt;int&gt;   &lt;int&gt;        &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;
 1 2020-03-27 AK          69     2319      13            3     1  2401 588f…
 2 2020-03-27 AL         587     4184      NA           NA     3  4771 c388…
 3 2020-03-27 AR         381     1545       0           48     3  1926 a67d…
 4 2020-03-27 AS           0       NA       0           NA     0     0 84ba…
 5 2020-03-27 AZ         736     7455      30           NA    13  8221 81fb…
 6 2020-03-27 CA        3879    17380   57400          746    78 78659 d7b5…
 7 2020-03-27 CO        1430     8692      NA          184    24 10122 47ea…
 8 2020-03-27 CT        1291     7109      NA          173    27  8400 8904…
 9 2020-03-27 DC         267     1897       2           NA     3  2166 240b…
10 2020-03-27 DE         163       36      NA           15     2   199 86c4…
# … with 1,195 more rows, and 9 more variables: date_checked &lt;dttm&gt;,
#   total_test_results &lt;int&gt;, fips &lt;chr&gt;, death_increase &lt;int&gt;,
#   hospitalized_increase &lt;int&gt;, negative_increase &lt;int&gt;,
#   positive_increase &lt;int&gt;, total_test_results_increase &lt;int&gt;,
#   request_datetime &lt;dttm&gt;
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
* select(date, state, positive, death)
```
]]
.column[.content[

```
# A tibble: 1,205 x 4
   date       state positive death
   &lt;date&gt;     &lt;chr&gt;    &lt;dbl&gt; &lt;int&gt;
 1 2020-03-27 AK          69     1
 2 2020-03-27 AL         587     3
 3 2020-03-27 AR         381     3
 4 2020-03-27 AS           0     0
 5 2020-03-27 AZ         736    13
 6 2020-03-27 CA        3879    78
 7 2020-03-27 CO        1430    24
 8 2020-03-27 CT        1291    27
 9 2020-03-27 DC         267     3
10 2020-03-27 DE         163     2
# … with 1,195 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
* filter(state %in% c(top10states))
```
]]
.column[.content[

```
# A tibble: 233 x 4
   date       state positive death
   &lt;date&gt;     &lt;chr&gt;    &lt;dbl&gt; &lt;int&gt;
 1 2020-03-27 CA        3879    78
 2 2020-03-27 FL        2765    34
 3 2020-03-27 IL        3060    34
 4 2020-03-27 LA        2746   119
 5 2020-03-27 MA        3240    35
 6 2020-03-27 MI        3657    92
 7 2020-03-27 NJ        8825   108
 8 2020-03-27 NY       44635   519
 9 2020-03-27 PA        2218    22
10 2020-03-27 WA        3207   147
# … with 223 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
* mutate(state = factor(state, levels = top10states))
```
]]
.column[.content[

```
# A tibble: 233 x 4
   date       state positive death
   &lt;date&gt;     &lt;fct&gt;    &lt;dbl&gt; &lt;int&gt;
 1 2020-03-27 CA        3879    78
 2 2020-03-27 FL        2765    34
 3 2020-03-27 IL        3060    34
 4 2020-03-27 LA        2746   119
 5 2020-03-27 MA        3240    35
 6 2020-03-27 MI        3657    92
 7 2020-03-27 NJ        8825   108
 8 2020-03-27 NY       44635   519
 9 2020-03-27 PA        2218    22
10 2020-03-27 WA        3207   147
# … with 223 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
* ggplot()
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_14_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
* aes(x = date)
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_15_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
* aes(y = positive)
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_16_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
* geom_point()
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_17_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
* aes(color = state)
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_18_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
* geom_line()
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_19_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
* scale_color_viridis_d()
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_20_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
* theme_linedraw(base_size = 14)
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_21_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
* theme(legend.position = c(0.2, 0.8))
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_22_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
  theme(legend.position = c(0.2, 0.8)) +  
* guides(col = guide_legend(ncol = 2))
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_23_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
  theme(legend.position = c(0.2, 0.8)) +  
  guides(col = guide_legend(ncol = 2)) +  
* labs(color = NULL)
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_24_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
  theme(legend.position = c(0.2, 0.8)) +  
  guides(col = guide_legend(ncol = 2)) +  
  labs(color = NULL) +  
* labs(title = "Growth of COVID-19 Cases in\nTop 10 US States")
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_25_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
  theme(legend.position = c(0.2, 0.8)) +  
  guides(col = guide_legend(ncol = 2)) +  
  labs(color = NULL) +  
  labs(title = "Growth of COVID-19 Cases in\nTop 10 US States") +  
* labs(x = "Date")
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_26_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
  theme(legend.position = c(0.2, 0.8)) +  
  guides(col = guide_legend(ncol = 2)) +  
  labs(color = NULL) +  
  labs(title = "Growth of COVID-19 Cases in\nTop 10 US States") +  
  labs(x = "Date") +  
* labs(y = "Cases")
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_27_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
  theme(legend.position = c(0.2, 0.8)) +  
  guides(col = guide_legend(ncol = 2)) +  
  labs(color = NULL) +  
  labs(title = "Growth of COVID-19 Cases in\nTop 10 US States") +  
  labs(x = "Date") +  
  labs(y = "Cases") +  
* labs(caption = "Data from the COVID Tracking Project API\nVia the covid19us package by Amanda Dobbyn")
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_auto_28_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
  theme(legend.position = c(0.2, 0.8)) +  
  guides(col = guide_legend(ncol = 2)) +  
  labs(color = NULL) +  
  labs(title = "Growth of COVID-19 Cases in\nTop 10 US States") +  
  labs(x = "Date") +  
  labs(y = "Cases") +  
  labs(caption = "Data from the COVID Tracking Project API\nVia the covid19us package by Amanda Dobbyn") +  
* gganimate::transition_reveal(date)
```
]]
.column[.content[
![](peter_michigan_files/figure-html/peter_auto_29_output-1.gif)&lt;!-- --&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
  theme(legend.position = c(0.2, 0.8)) +  
  guides(col = guide_legend(ncol = 2)) +  
  labs(color = NULL) +  
  labs(title = "Growth of COVID-19 Cases in\nTop 10 US States") +  
  labs(x = "Date") +  
  labs(y = "Cases") +  
  labs(caption = "Data from the COVID Tracking Project API\nVia the covid19us package by Amanda Dobbyn") +  
  gganimate::transition_reveal(date) +  
* labs(title = "Logarithmic Growth of COVID-19 Cases in\nTop 10 US States")
```
]]
.column[.content[
![](peter_michigan_files/figure-html/peter_auto_30_output-1.gif)&lt;!-- --&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
covid19us::get_states_current() %&gt;%  
  arrange(desc(positive)) %&gt;%  
  slice(1:10) %&gt;%  
  pull(state) -&gt;  
top10states  

covid19us::get_states_daily()[1,1] %&gt;%  
  pull() -&gt;  
end_date  

covid19us::get_states_daily() %&gt;%  
  replace_na(list(positive = 0)) %&gt;%  
  select(date, state, positive, death) %&gt;%  
  filter(state %in% c(top10states)) %&gt;%  
  mutate(state = factor(state, levels = top10states)) %&gt;%  
  ggplot() +  
  aes(x = date) +  
  aes(y = positive) +  
  geom_point() +  
  aes(color = state) +  
  geom_line() +  
  scale_color_viridis_d() +  
  theme_linedraw(base_size = 14) +  
  theme(legend.position = c(0.2, 0.8)) +  
  guides(col = guide_legend(ncol = 2)) +  
  labs(color = NULL) +  
  labs(title = "Growth of COVID-19 Cases in\nTop 10 US States") +  
  labs(x = "Date") +  
  labs(y = "Cases") +  
  labs(caption = "Data from the COVID Tracking Project API\nVia the covid19us package by Amanda Dobbyn") +  
  gganimate::transition_reveal(date) +  
  labs(title = "Logarithmic Growth of COVID-19 Cases in\nTop 10 US States") +  
* scale_y_log10()
```
]]
.column[.content[
![](peter_michigan_files/figure-html/peter_auto_31_output-1.gif)&lt;!-- --&gt;
]]




---

class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
*xml2::read_html("michigan.htm")
```
]]
.column[.content[

```
{html_document}
&lt;html lang="en" ng-app="mapp"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body class="agy-coronavirus has-offcanvas-menu off-canvas-center  bow-th ...
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
*mi_corona
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
*mi_corona
```
]]
.column[.content[

```
{html_document}
&lt;html lang="en" ng-app="mapp"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body class="agy-coronavirus has-offcanvas-menu off-canvas-center  bow-th ...
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
* rvest::html_nodes('table')
```
]]
.column[.content[

```
{xml_nodeset (3)}
[1] &lt;table border="1" cellpadding="0" cellspacing="0" style="height:400px;wid ...
[2] &lt;table border="1" cellpadding="0" cellspacing="0" style="width:339px;" wi ...
[3] &lt;table border="1" cellpadding="0" cellspacing="0" style="width:339px;" wi ...
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
* rvest::html_table()
```
]]
.column[.content[

```
[[1]]
               X1    X2     X3
1          County Cases Deaths
2         Allegan     1       
3           Barry     1       
4             Bay     3       
5         Berrien    10       
6         Calhoun     6       
7      Charlevoix     4       
8        Chippewa     1       
9           Clare     1       
10        Clinton     6       
11   Detroit City   705     12
12          Eaton     3       
13          Emmet     2       
14        Genesee    46       
15        Gladwin     2       
16 Grand Traverse     3       
17      Hillsdale     2       
18         Ingham    18       
19          Iosco     1       
20       Isabella     2       
21        Jackson    12       
22      Kalamazoo     5       
23       Kalkaska     2       
24           Kent    36      1
25         Lapeer     1       
26       Leelanau     1       
27        Lenawee     1       
28     Livingston    16      1
29           Luce     1       
30         Macomb   281      7
31       Manistee     1       
32      Marquette     1       
33        Midland     6       
34         Monroe    18       
35       Montcalm     2       
36       Muskegon     3       
37        Newaygo     1       
38        Oakland   543     10
39         Otsego     6       
40         Ottawa    16       
41      Roscommon     1       
42        Saginaw     9       
43        Sanilac     1       
44      St. Clair    10       
45        Tuscola     2       
46      Van Buren     2       
47      Washtenaw    72      3
48          Wayne   417      9
49        Wexford     1       
50   Out of State     7       
51          Total 2,294     43

[[2]]
     Sex   %
1   Male 51%
2 Female 49%

[[3]]
              X1  X2
1            Age   %
2  0 to 19 years  1%
3 20 to 29 years  8%
4 30 to 39 years 12%
5 40 to 49 years 17%
6 50 to 59 years 19%
7 60 to 69 years 21%
8 70 to 79 years 14%
9      80+ years  8%
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
*data
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
*data[1]
```
]]
.column[.content[

```
[[1]]
               X1    X2     X3
1          County Cases Deaths
2         Allegan     1       
3           Barry     1       
4             Bay     3       
5         Berrien    10       
6         Calhoun     6       
7      Charlevoix     4       
8        Chippewa     1       
9           Clare     1       
10        Clinton     6       
11   Detroit City   705     12
12          Eaton     3       
13          Emmet     2       
14        Genesee    46       
15        Gladwin     2       
16 Grand Traverse     3       
17      Hillsdale     2       
18         Ingham    18       
19          Iosco     1       
20       Isabella     2       
21        Jackson    12       
22      Kalamazoo     5       
23       Kalkaska     2       
24           Kent    36      1
25         Lapeer     1       
26       Leelanau     1       
27        Lenawee     1       
28     Livingston    16      1
29           Luce     1       
30         Macomb   281      7
31       Manistee     1       
32      Marquette     1       
33        Midland     6       
34         Monroe    18       
35       Montcalm     2       
36       Muskegon     3       
37        Newaygo     1       
38        Oakland   543     10
39         Otsego     6       
40         Ottawa    16       
41      Roscommon     1       
42        Saginaw     9       
43        Sanilac     1       
44      St. Clair    10       
45        Tuscola     2       
46      Van Buren     2       
47      Washtenaw    72      3
48          Wayne   417      9
49        Wexford     1       
50   Out of State     7       
51          Total 2,294     43
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
data[1] %&gt;%  
* as.data.frame()
```
]]
.column[.content[

```
               X1    X2     X3
1          County Cases Deaths
2         Allegan     1       
3           Barry     1       
4             Bay     3       
5         Berrien    10       
6         Calhoun     6       
7      Charlevoix     4       
8        Chippewa     1       
9           Clare     1       
10        Clinton     6       
11   Detroit City   705     12
12          Eaton     3       
13          Emmet     2       
14        Genesee    46       
15        Gladwin     2       
16 Grand Traverse     3       
17      Hillsdale     2       
18         Ingham    18       
19          Iosco     1       
20       Isabella     2       
21        Jackson    12       
22      Kalamazoo     5       
23       Kalkaska     2       
24           Kent    36      1
25         Lapeer     1       
26       Leelanau     1       
27        Lenawee     1       
28     Livingston    16      1
29           Luce     1       
30         Macomb   281      7
31       Manistee     1       
32      Marquette     1       
33        Midland     6       
34         Monroe    18       
35       Montcalm     2       
36       Muskegon     3       
37        Newaygo     1       
38        Oakland   543     10
39         Otsego     6       
40         Ottawa    16       
41      Roscommon     1       
42        Saginaw     9       
43        Sanilac     1       
44      St. Clair    10       
45        Tuscola     2       
46      Van Buren     2       
47      Washtenaw    72      3
48          Wayne   417      9
49        Wexford     1       
50   Out of State     7       
51          Total 2,294     43
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
data[1] %&gt;%  
  as.data.frame() %&gt;%  
* filter( X1 != "County")
```
]]
.column[.content[

```
               X1    X2 X3
1         Allegan     1   
2           Barry     1   
3             Bay     3   
4         Berrien    10   
5         Calhoun     6   
6      Charlevoix     4   
7        Chippewa     1   
8           Clare     1   
9         Clinton     6   
10   Detroit City   705 12
11          Eaton     3   
12          Emmet     2   
13        Genesee    46   
14        Gladwin     2   
15 Grand Traverse     3   
16      Hillsdale     2   
17         Ingham    18   
18          Iosco     1   
19       Isabella     2   
20        Jackson    12   
21      Kalamazoo     5   
22       Kalkaska     2   
23           Kent    36  1
24         Lapeer     1   
25       Leelanau     1   
26        Lenawee     1   
27     Livingston    16  1
28           Luce     1   
29         Macomb   281  7
30       Manistee     1   
31      Marquette     1   
32        Midland     6   
33         Monroe    18   
34       Montcalm     2   
35       Muskegon     3   
36        Newaygo     1   
37        Oakland   543 10
38         Otsego     6   
39         Ottawa    16   
40      Roscommon     1   
41        Saginaw     9   
42        Sanilac     1   
43      St. Clair    10   
44        Tuscola     2   
45      Van Buren     2   
46      Washtenaw    72  3
47          Wayne   417  9
48        Wexford     1   
49   Out of State     7   
50          Total 2,294 43
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
data[1] %&gt;%  
  as.data.frame() %&gt;%  
  filter( X1 != "County") %&gt;%  
* filter( X1 != "Out of State")
```
]]
.column[.content[

```
               X1    X2 X3
1         Allegan     1   
2           Barry     1   
3             Bay     3   
4         Berrien    10   
5         Calhoun     6   
6      Charlevoix     4   
7        Chippewa     1   
8           Clare     1   
9         Clinton     6   
10   Detroit City   705 12
11          Eaton     3   
12          Emmet     2   
13        Genesee    46   
14        Gladwin     2   
15 Grand Traverse     3   
16      Hillsdale     2   
17         Ingham    18   
18          Iosco     1   
19       Isabella     2   
20        Jackson    12   
21      Kalamazoo     5   
22       Kalkaska     2   
23           Kent    36  1
24         Lapeer     1   
25       Leelanau     1   
26        Lenawee     1   
27     Livingston    16  1
28           Luce     1   
29         Macomb   281  7
30       Manistee     1   
31      Marquette     1   
32        Midland     6   
33         Monroe    18   
34       Montcalm     2   
35       Muskegon     3   
36        Newaygo     1   
37        Oakland   543 10
38         Otsego     6   
39         Ottawa    16   
40      Roscommon     1   
41        Saginaw     9   
42        Sanilac     1   
43      St. Clair    10   
44        Tuscola     2   
45      Van Buren     2   
46      Washtenaw    72  3
47          Wayne   417  9
48        Wexford     1   
49          Total 2,294 43
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
data[1] %&gt;%  
  as.data.frame() %&gt;%  
  filter( X1 != "County") %&gt;%  
  filter( X1 != "Out of State") %&gt;%  
* filter( X1 != "Not Reported")
```
]]
.column[.content[

```
               X1    X2 X3
1         Allegan     1   
2           Barry     1   
3             Bay     3   
4         Berrien    10   
5         Calhoun     6   
6      Charlevoix     4   
7        Chippewa     1   
8           Clare     1   
9         Clinton     6   
10   Detroit City   705 12
11          Eaton     3   
12          Emmet     2   
13        Genesee    46   
14        Gladwin     2   
15 Grand Traverse     3   
16      Hillsdale     2   
17         Ingham    18   
18          Iosco     1   
19       Isabella     2   
20        Jackson    12   
21      Kalamazoo     5   
22       Kalkaska     2   
23           Kent    36  1
24         Lapeer     1   
25       Leelanau     1   
26        Lenawee     1   
27     Livingston    16  1
28           Luce     1   
29         Macomb   281  7
30       Manistee     1   
31      Marquette     1   
32        Midland     6   
33         Monroe    18   
34       Montcalm     2   
35       Muskegon     3   
36        Newaygo     1   
37        Oakland   543 10
38         Otsego     6   
39         Ottawa    16   
40      Roscommon     1   
41        Saginaw     9   
42        Sanilac     1   
43      St. Clair    10   
44        Tuscola     2   
45      Van Buren     2   
46      Washtenaw    72  3
47          Wayne   417  9
48        Wexford     1   
49          Total 2,294 43
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
data[1] %&gt;%  
  as.data.frame() %&gt;%  
  filter( X1 != "County") %&gt;%  
  filter( X1 != "Out of State") %&gt;%  
  filter( X1 != "Not Reported") %&gt;%  
* filter( X1 != "Total")
```
]]
.column[.content[

```
               X1  X2 X3
1         Allegan   1   
2           Barry   1   
3             Bay   3   
4         Berrien  10   
5         Calhoun   6   
6      Charlevoix   4   
7        Chippewa   1   
8           Clare   1   
9         Clinton   6   
10   Detroit City 705 12
11          Eaton   3   
12          Emmet   2   
13        Genesee  46   
14        Gladwin   2   
15 Grand Traverse   3   
16      Hillsdale   2   
17         Ingham  18   
18          Iosco   1   
19       Isabella   2   
20        Jackson  12   
21      Kalamazoo   5   
22       Kalkaska   2   
23           Kent  36  1
24         Lapeer   1   
25       Leelanau   1   
26        Lenawee   1   
27     Livingston  16  1
28           Luce   1   
29         Macomb 281  7
30       Manistee   1   
31      Marquette   1   
32        Midland   6   
33         Monroe  18   
34       Montcalm   2   
35       Muskegon   3   
36        Newaygo   1   
37        Oakland 543 10
38         Otsego   6   
39         Ottawa  16   
40      Roscommon   1   
41        Saginaw   9   
42        Sanilac   1   
43      St. Clair  10   
44        Tuscola   2   
45      Van Buren   2   
46      Washtenaw  72  3
47          Wayne 417  9
48        Wexford   1   
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
data[1] %&gt;%  
  as.data.frame() %&gt;%  
  filter( X1 != "County") %&gt;%  
  filter( X1 != "Out of State") %&gt;%  
  filter( X1 != "Not Reported") %&gt;%  
  filter( X1 != "Total") %&gt;%  
* purrr::set_names("county", "cases", "deaths")
```
]]
.column[.content[

```
           county cases deaths
1         Allegan     1       
2           Barry     1       
3             Bay     3       
4         Berrien    10       
5         Calhoun     6       
6      Charlevoix     4       
7        Chippewa     1       
8           Clare     1       
9         Clinton     6       
10   Detroit City   705     12
11          Eaton     3       
12          Emmet     2       
13        Genesee    46       
14        Gladwin     2       
15 Grand Traverse     3       
16      Hillsdale     2       
17         Ingham    18       
18          Iosco     1       
19       Isabella     2       
20        Jackson    12       
21      Kalamazoo     5       
22       Kalkaska     2       
23           Kent    36      1
24         Lapeer     1       
25       Leelanau     1       
26        Lenawee     1       
27     Livingston    16      1
28           Luce     1       
29         Macomb   281      7
30       Manistee     1       
31      Marquette     1       
32        Midland     6       
33         Monroe    18       
34       Montcalm     2       
35       Muskegon     3       
36        Newaygo     1       
37        Oakland   543     10
38         Otsego     6       
39         Ottawa    16       
40      Roscommon     1       
41        Saginaw     9       
42        Sanilac     1       
43      St. Clair    10       
44        Tuscola     2       
45      Van Buren     2       
46      Washtenaw    72      3
47          Wayne   417      9
48        Wexford     1       
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
data[1] %&gt;%  
  as.data.frame() %&gt;%  
  filter( X1 != "County") %&gt;%  
  filter( X1 != "Out of State") %&gt;%  
  filter( X1 != "Not Reported") %&gt;%  
  filter( X1 != "Total") %&gt;%  
  purrr::set_names("county", "cases", "deaths") %&gt;%  
* as_tibble()
```
]]
.column[.content[

```
# A tibble: 48 x 3
   county       cases deaths
   &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt; 
 1 Allegan      1     ""    
 2 Barry        1     ""    
 3 Bay          3     ""    
 4 Berrien      10    ""    
 5 Calhoun      6     ""    
 6 Charlevoix   4     ""    
 7 Chippewa     1     ""    
 8 Clare        1     ""    
 9 Clinton      6     ""    
10 Detroit City 705   "12"  
# … with 38 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
data[1] %&gt;%  
  as.data.frame() %&gt;%  
  filter( X1 != "County") %&gt;%  
  filter( X1 != "Out of State") %&gt;%  
  filter( X1 != "Not Reported") %&gt;%  
  filter( X1 != "Total") %&gt;%  
  purrr::set_names("county", "cases", "deaths") %&gt;%  
  as_tibble() %&gt;%  
* mutate(cases = as.numeric(cases),
*        deaths = as.numeric(deaths))
```
]]
.column[.content[

```
# A tibble: 48 x 3
   county       cases deaths
   &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
 1 Allegan          1     NA
 2 Barry            1     NA
 3 Bay              3     NA
 4 Berrien         10     NA
 5 Calhoun          6     NA
 6 Charlevoix       4     NA
 7 Chippewa         1     NA
 8 Clare            1     NA
 9 Clinton          6     NA
10 Detroit City   705     12
# … with 38 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# coronavirus data ----
# scraping from state website - new data between 2-3 PM EDT each day
xml2::read_html("michigan.htm") -&gt;  
mi_corona  

#clean data to a table
mi_corona %&gt;%  
  rvest::html_nodes('table') %&gt;%  
  rvest::html_table() -&gt;  
data  

# clean up corona data ----
data[1] %&gt;%  
  as.data.frame() %&gt;%  
  filter( X1 != "County") %&gt;%  
  filter( X1 != "Out of State") %&gt;%  
  filter( X1 != "Not Reported") %&gt;%  
  filter( X1 != "Total") %&gt;%  
  purrr::set_names("county", "cases", "deaths") %&gt;%  
  as_tibble() %&gt;%  
  mutate(cases = as.numeric(cases),  
         deaths = as.numeric(deaths)) -&gt;  
*mi_corona2
```
]]
.column[.content[

]]

https://www.michigan.gov/coronavirus/0,9753,7-406-98163-520743--,00.html



---

class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
*mi_corona2
```
]]
.column[.content[

```
# A tibble: 48 x 3
   county       cases deaths
   &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
 1 Allegan          1     NA
 2 Barry            1     NA
 3 Bay              3     NA
 4 Berrien         10     NA
 5 Calhoun          6     NA
 6 Charlevoix       4     NA
 7 Chippewa         1     NA
 8 Clare            1     NA
 9 Clinton          6     NA
10 Detroit City   705     12
# … with 38 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
* filter(county == "Detroit City" |
*          county == "Wayne")
```
]]
.column[.content[

```
# A tibble: 2 x 3
  county       cases deaths
  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
1 Detroit City   705     12
2 Wayne          417      9
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
* summarize(cases = sum(cases),
*           deaths = sum(deaths))
```
]]
.column[.content[

```
# A tibble: 1 x 2
  cases deaths
  &lt;dbl&gt;  &lt;dbl&gt;
1  1122     21
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
  summarize(cases = sum(cases),  
            deaths = sum(deaths)) %&gt;%  
* mutate(county = "Wayne")
```
]]
.column[.content[

```
# A tibble: 1 x 3
  cases deaths county
  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt; 
1  1122     21 Wayne 
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
  summarize(cases = sum(cases),  
            deaths = sum(deaths)) %&gt;%  
  mutate(county = "Wayne") %&gt;%  
* select(county, cases, deaths)
```
]]
.column[.content[

```
# A tibble: 1 x 3
  county cases deaths
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Wayne   1122     21
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
  summarize(cases = sum(cases),  
            deaths = sum(deaths)) %&gt;%  
  mutate(county = "Wayne") %&gt;%  
  select(county, cases, deaths) -&gt;  
*wayne
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
  summarize(cases = sum(cases),  
            deaths = sum(deaths)) %&gt;%  
  mutate(county = "Wayne") %&gt;%  
  select(county, cases, deaths) -&gt;  
wayne  

*mi_corona2
```
]]
.column[.content[

```
# A tibble: 48 x 3
   county       cases deaths
   &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
 1 Allegan          1     NA
 2 Barry            1     NA
 3 Bay              3     NA
 4 Berrien         10     NA
 5 Calhoun          6     NA
 6 Charlevoix       4     NA
 7 Chippewa         1     NA
 8 Clare            1     NA
 9 Clinton          6     NA
10 Detroit City   705     12
# … with 38 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
  summarize(cases = sum(cases),  
            deaths = sum(deaths)) %&gt;%  
  mutate(county = "Wayne") %&gt;%  
  select(county, cases, deaths) -&gt;  
wayne  

mi_corona2 %&gt;%  
* filter(county != "Detroit City" &amp;
*          county != "Wayne")
```
]]
.column[.content[

```
# A tibble: 46 x 3
   county     cases deaths
   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;
 1 Allegan        1     NA
 2 Barry          1     NA
 3 Bay            3     NA
 4 Berrien       10     NA
 5 Calhoun        6     NA
 6 Charlevoix     4     NA
 7 Chippewa       1     NA
 8 Clare          1     NA
 9 Clinton        6     NA
10 Eaton          3     NA
# … with 36 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
  summarize(cases = sum(cases),  
            deaths = sum(deaths)) %&gt;%  
  mutate(county = "Wayne") %&gt;%  
  select(county, cases, deaths) -&gt;  
wayne  

mi_corona2 %&gt;%  
  filter(county != "Detroit City" &amp;  
           county != "Wayne") %&gt;%  
* bind_rows(wayne)
```
]]
.column[.content[

```
# A tibble: 47 x 3
   county     cases deaths
   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;
 1 Allegan        1     NA
 2 Barry          1     NA
 3 Bay            3     NA
 4 Berrien       10     NA
 5 Calhoun        6     NA
 6 Charlevoix     4     NA
 7 Chippewa       1     NA
 8 Clare          1     NA
 9 Clinton        6     NA
10 Eaton          3     NA
# … with 37 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
  summarize(cases = sum(cases),  
            deaths = sum(deaths)) %&gt;%  
  mutate(county = "Wayne") %&gt;%  
  select(county, cases, deaths) -&gt;  
wayne  

mi_corona2 %&gt;%  
  filter(county != "Detroit City" &amp;  
           county != "Wayne") %&gt;%  
  bind_rows(wayne) %&gt;%  
* arrange(county)
```
]]
.column[.content[

```
# A tibble: 47 x 3
   county     cases deaths
   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;
 1 Allegan        1     NA
 2 Barry          1     NA
 3 Bay            3     NA
 4 Berrien       10     NA
 5 Calhoun        6     NA
 6 Charlevoix     4     NA
 7 Chippewa       1     NA
 8 Clare          1     NA
 9 Clinton        6     NA
10 Eaton          3     NA
# … with 37 more rows
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
  summarize(cases = sum(cases),  
            deaths = sum(deaths)) %&gt;%  
  mutate(county = "Wayne") %&gt;%  
  select(county, cases, deaths) -&gt;  
wayne  

mi_corona2 %&gt;%  
  filter(county != "Detroit City" &amp;  
           county != "Wayne") %&gt;%  
  bind_rows(wayne) %&gt;%  
  arrange(county) %&gt;%  
* print(n = Inf)
```
]]
.column[.content[

```
# A tibble: 47 x 3
   county         cases deaths
   &lt;chr&gt;          &lt;dbl&gt;  &lt;dbl&gt;
 1 Allegan            1     NA
 2 Barry              1     NA
 3 Bay                3     NA
 4 Berrien           10     NA
 5 Calhoun            6     NA
 6 Charlevoix         4     NA
 7 Chippewa           1     NA
 8 Clare              1     NA
 9 Clinton            6     NA
10 Eaton              3     NA
11 Emmet              2     NA
12 Genesee           46     NA
13 Gladwin            2     NA
14 Grand Traverse     3     NA
15 Hillsdale          2     NA
16 Ingham            18     NA
17 Iosco              1     NA
18 Isabella           2     NA
19 Jackson           12     NA
20 Kalamazoo          5     NA
21 Kalkaska           2     NA
22 Kent              36      1
23 Lapeer             1     NA
24 Leelanau           1     NA
25 Lenawee            1     NA
26 Livingston        16      1
27 Luce               1     NA
28 Macomb           281      7
29 Manistee           1     NA
30 Marquette          1     NA
31 Midland            6     NA
32 Monroe            18     NA
33 Montcalm           2     NA
34 Muskegon           3     NA
35 Newaygo            1     NA
36 Oakland          543     10
37 Otsego             6     NA
38 Ottawa            16     NA
39 Roscommon          1     NA
40 Saginaw            9     NA
41 Sanilac            1     NA
42 St. Clair         10     NA
43 Tuscola            2     NA
44 Van Buren          2     NA
45 Washtenaw         72      3
46 Wayne           1122     21
47 Wexford            1     NA
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
# Detroit City and Wayne county have separate health departments
# for goofy historical reasons - will combine into Wayne County
mi_corona2 %&gt;%  
  filter(county == "Detroit City" |  
           county == "Wayne") %&gt;%  
  summarize(cases = sum(cases),  
            deaths = sum(deaths)) %&gt;%  
  mutate(county = "Wayne") %&gt;%  
  select(county, cases, deaths) -&gt;  
wayne  

mi_corona2 %&gt;%  
  filter(county != "Detroit City" &amp;  
           county != "Wayne") %&gt;%  
  bind_rows(wayne) %&gt;%  
  arrange(county) %&gt;%  
  print(n = Inf) -&gt;  
*mi_corona3
```
]]
.column[.content[

```
# A tibble: 47 x 3
   county         cases deaths
   &lt;chr&gt;          &lt;dbl&gt;  &lt;dbl&gt;
 1 Allegan            1     NA
 2 Barry              1     NA
 3 Bay                3     NA
 4 Berrien           10     NA
 5 Calhoun            6     NA
 6 Charlevoix         4     NA
 7 Chippewa           1     NA
 8 Clare              1     NA
 9 Clinton            6     NA
10 Eaton              3     NA
11 Emmet              2     NA
12 Genesee           46     NA
13 Gladwin            2     NA
14 Grand Traverse     3     NA
15 Hillsdale          2     NA
16 Ingham            18     NA
17 Iosco              1     NA
18 Isabella           2     NA
19 Jackson           12     NA
20 Kalamazoo          5     NA
21 Kalkaska           2     NA
22 Kent              36      1
23 Lapeer             1     NA
24 Leelanau           1     NA
25 Lenawee            1     NA
26 Livingston        16      1
27 Luce               1     NA
28 Macomb           281      7
29 Manistee           1     NA
30 Marquette          1     NA
31 Midland            6     NA
32 Monroe            18     NA
33 Montcalm           2     NA
34 Muskegon           3     NA
35 Newaygo            1     NA
36 Oakland          543     10
37 Otsego             6     NA
38 Ottawa            16     NA
39 Roscommon          1     NA
40 Saginaw            9     NA
41 Sanilac            1     NA
42 St. Clair         10     NA
43 Tuscola            2     NA
44 Van Buren          2     NA
45 Washtenaw         72      3
46 Wayne           1122     21
47 Wexford            1     NA
```
]]




---

class: split-40
count: false
 

 
.column[.content[

```r
*options(tigris_use_cache = TRUE)
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(tigris_use_cache = TRUE)  
# tidycensus to get county geometries
*tidycensus::census_api_key("a52a66fe882483b778a5dc1aa002051abba883fa")
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(tigris_use_cache = TRUE)  
# tidycensus to get county geometries
tidycensus::census_api_key("a52a66fe882483b778a5dc1aa002051abba883fa")  
*tidycensus::get_acs(state = "MI",
*       geography = "county",
*                   variables = "B19013_001",
*                   geometry = TRUE)
```
]]
.column[.content[

```
Simple feature collection with 83 features and 5 fields
geometry type:  MULTIPOLYGON
dimension:      XY
bbox:           xmin: -90.41814 ymin: 41.69612 xmax: -82.41347 ymax: 48.2388
epsg (SRID):    4269
proj4string:    +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs
First 10 features:
   GEOID                     NAME   variable estimate  moe
1  26001  Alcona County, Michigan B19013_001    39735 1590
2  26003   Alger County, Michigan B19013_001    46007 4136
3  26005 Allegan County, Michigan B19013_001    59883 1786
4  26007  Alpena County, Michigan B19013_001    41991 1451
5  26009  Antrim County, Michigan B19013_001    52589 1768
6  26011  Arenac County, Michigan B19013_001    40769 1245
7  26013  Baraga County, Michigan B19013_001    42444 2579
8  26015   Barry County, Michigan B19013_001    61016 2228
9  26017     Bay County, Michigan B19013_001    48005 1473
10 26019  Benzie County, Michigan B19013_001    56639 3148
                         geometry
1  MULTIPOLYGON (((-83.88852 4...
2  MULTIPOLYGON (((-86.70904 4...
3  MULTIPOLYGON (((-86.27008 4...
4  MULTIPOLYGON (((-83.21737 4...
5  MULTIPOLYGON (((-85.43806 4...
6  MULTIPOLYGON (((-83.44122 4...
7  MULTIPOLYGON (((-88.67884 4...
8  MULTIPOLYGON (((-85.54556 4...
9  MULTIPOLYGON (((-83.83209 4...
10 MULTIPOLYGON (((-86.25772 4...
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(tigris_use_cache = TRUE)  
# tidycensus to get county geometries
tidycensus::census_api_key("a52a66fe882483b778a5dc1aa002051abba883fa")  
tidycensus::get_acs(state = "MI",  
        geography = "county",  
                    variables = "B19013_001",  
                    geometry = TRUE) -&gt;  
* michigan
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(tigris_use_cache = TRUE)  
# tidycensus to get county geometries
tidycensus::census_api_key("a52a66fe882483b778a5dc1aa002051abba883fa")  
tidycensus::get_acs(state = "MI",  
        geography = "county",  
                    variables = "B19013_001",  
                    geometry = TRUE) -&gt;  
  michigan  

# trim off " County, Michigan" from county names
*michigan2 &lt;- michigan
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(tigris_use_cache = TRUE)  
# tidycensus to get county geometries
tidycensus::census_api_key("a52a66fe882483b778a5dc1aa002051abba883fa")  
tidycensus::get_acs(state = "MI",  
        geography = "county",  
                    variables = "B19013_001",  
                    geometry = TRUE) -&gt;  
  michigan  

# trim off " County, Michigan" from county names
michigan2 &lt;- michigan %&gt;%  
* mutate(county = str_sub(NAME,
*                         start = 1L,
*                         end = str_locate(michigan$NAME, " County, Michigan")[,1]))
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(tigris_use_cache = TRUE)  
# tidycensus to get county geometries
tidycensus::census_api_key("a52a66fe882483b778a5dc1aa002051abba883fa")  
tidycensus::get_acs(state = "MI",  
        geography = "county",  
                    variables = "B19013_001",  
                    geometry = TRUE) -&gt;  
  michigan  

# trim off " County, Michigan" from county names
michigan2 &lt;- michigan %&gt;%  
  mutate(county = str_sub(NAME,  
                          start = 1L,  
                          end = str_locate(michigan$NAME, " County, Michigan")[,1])) %&gt;%  
* mutate(county = str_trim(county))
```
]]
.column[.content[

]]





---

class: split-40
count: false
 

 
.column[.content[

```r
*options(scipen = 5)
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
*michigan2
```
]]
.column[.content[

```
Simple feature collection with 83 features and 6 fields
geometry type:  MULTIPOLYGON
dimension:      XY
bbox:           xmin: -90.41814 ymin: 41.69612 xmax: -82.41347 ymax: 48.2388
epsg (SRID):    4269
proj4string:    +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs
First 10 features:
   GEOID                     NAME   variable estimate  moe
1  26001  Alcona County, Michigan B19013_001    39735 1590
2  26003   Alger County, Michigan B19013_001    46007 4136
3  26005 Allegan County, Michigan B19013_001    59883 1786
4  26007  Alpena County, Michigan B19013_001    41991 1451
5  26009  Antrim County, Michigan B19013_001    52589 1768
6  26011  Arenac County, Michigan B19013_001    40769 1245
7  26013  Baraga County, Michigan B19013_001    42444 2579
8  26015   Barry County, Michigan B19013_001    61016 2228
9  26017     Bay County, Michigan B19013_001    48005 1473
10 26019  Benzie County, Michigan B19013_001    56639 3148
                         geometry  county
1  MULTIPOLYGON (((-83.88852 4...  Alcona
2  MULTIPOLYGON (((-86.70904 4...   Alger
3  MULTIPOLYGON (((-86.27008 4... Allegan
4  MULTIPOLYGON (((-83.21737 4...  Alpena
5  MULTIPOLYGON (((-85.43806 4...  Antrim
6  MULTIPOLYGON (((-83.44122 4...  Arenac
7  MULTIPOLYGON (((-88.67884 4...  Baraga
8  MULTIPOLYGON (((-85.54556 4...   Barry
9  MULTIPOLYGON (((-83.83209 4...     Bay
10 MULTIPOLYGON (((-86.25772 4...  Benzie
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
* select(county, geometry)
```
]]
.column[.content[

```
Simple feature collection with 83 features and 1 field
geometry type:  MULTIPOLYGON
dimension:      XY
bbox:           xmin: -90.41814 ymin: 41.69612 xmax: -82.41347 ymax: 48.2388
epsg (SRID):    4269
proj4string:    +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs
First 10 features:
    county                       geometry
1   Alcona MULTIPOLYGON (((-83.88852 4...
2    Alger MULTIPOLYGON (((-86.70904 4...
3  Allegan MULTIPOLYGON (((-86.27008 4...
4   Alpena MULTIPOLYGON (((-83.21737 4...
5   Antrim MULTIPOLYGON (((-85.43806 4...
6   Arenac MULTIPOLYGON (((-83.44122 4...
7   Baraga MULTIPOLYGON (((-88.67884 4...
8    Barry MULTIPOLYGON (((-85.54556 4...
9      Bay MULTIPOLYGON (((-83.83209 4...
10  Benzie MULTIPOLYGON (((-86.25772 4...
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
* left_join(mi_corona3)
```
]]
.column[.content[

```
Simple feature collection with 83 features and 3 fields
geometry type:  MULTIPOLYGON
dimension:      XY
bbox:           xmin: -90.41814 ymin: 41.69612 xmax: -82.41347 ymax: 48.2388
epsg (SRID):    4269
proj4string:    +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs
First 10 features:
    county cases deaths                       geometry
1   Alcona    NA     NA MULTIPOLYGON (((-83.88852 4...
2    Alger    NA     NA MULTIPOLYGON (((-86.70904 4...
3  Allegan     1     NA MULTIPOLYGON (((-86.27008 4...
4   Alpena    NA     NA MULTIPOLYGON (((-83.21737 4...
5   Antrim    NA     NA MULTIPOLYGON (((-85.43806 4...
6   Arenac    NA     NA MULTIPOLYGON (((-83.44122 4...
7   Baraga    NA     NA MULTIPOLYGON (((-88.67884 4...
8    Barry     1     NA MULTIPOLYGON (((-85.54556 4...
9      Bay     3     NA MULTIPOLYGON (((-83.83209 4...
10  Benzie    NA     NA MULTIPOLYGON (((-86.25772 4...
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
* mutate(cases = replace_na(cases, 0.1))
```
]]
.column[.content[

```
Simple feature collection with 83 features and 3 fields
geometry type:  MULTIPOLYGON
dimension:      XY
bbox:           xmin: -90.41814 ymin: 41.69612 xmax: -82.41347 ymax: 48.2388
epsg (SRID):    4269
proj4string:    +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs
First 10 features:
    county cases deaths                       geometry
1   Alcona   0.1     NA MULTIPOLYGON (((-83.88852 4...
2    Alger   0.1     NA MULTIPOLYGON (((-86.70904 4...
3  Allegan   1.0     NA MULTIPOLYGON (((-86.27008 4...
4   Alpena   0.1     NA MULTIPOLYGON (((-83.21737 4...
5   Antrim   0.1     NA MULTIPOLYGON (((-85.43806 4...
6   Arenac   0.1     NA MULTIPOLYGON (((-83.44122 4...
7   Baraga   0.1     NA MULTIPOLYGON (((-88.67884 4...
8    Barry   1.0     NA MULTIPOLYGON (((-85.54556 4...
9      Bay   3.0     NA MULTIPOLYGON (((-83.83209 4...
10  Benzie   0.1     NA MULTIPOLYGON (((-86.25772 4...
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
*joined
```
]]
.column[.content[

]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

*joined
```
]]
.column[.content[

```
Simple feature collection with 83 features and 3 fields
geometry type:  MULTIPOLYGON
dimension:      XY
bbox:           xmin: -90.41814 ymin: 41.69612 xmax: -82.41347 ymax: 48.2388
epsg (SRID):    4269
proj4string:    +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs
First 10 features:
    county cases deaths                       geometry
1   Alcona   0.1     NA MULTIPOLYGON (((-83.88852 4...
2    Alger   0.1     NA MULTIPOLYGON (((-86.70904 4...
3  Allegan   1.0     NA MULTIPOLYGON (((-86.27008 4...
4   Alpena   0.1     NA MULTIPOLYGON (((-83.21737 4...
5   Antrim   0.1     NA MULTIPOLYGON (((-85.43806 4...
6   Arenac   0.1     NA MULTIPOLYGON (((-83.44122 4...
7   Baraga   0.1     NA MULTIPOLYGON (((-88.67884 4...
8    Barry   1.0     NA MULTIPOLYGON (((-85.54556 4...
9      Bay   3.0     NA MULTIPOLYGON (((-83.83209 4...
10  Benzie   0.1     NA MULTIPOLYGON (((-86.25772 4...
```
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
* ggplot()
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_8_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
* geom_sf(color = "grey98",
*         size = 0.005)
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_9_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
* aes(fill = cases)
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_10_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
  aes(fill = cases) +  
* scale_fill_gradientn(colours = rev(heat.colors(7)),
*                      trans = "log10",
*                      breaks = c(.1,1,10,100, 1000))
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_11_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
  aes(fill = cases) +  
  scale_fill_gradientn(colours = rev(heat.colors(7)),  
                       trans = "log10",  
                       breaks = c(.1,1,10,100, 1000)) +  
* geom_sf_text(aes(label = round(cases)),
*              col = "black",
*              size = 2)
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_12_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
  aes(fill = cases) +  
  scale_fill_gradientn(colours = rev(heat.colors(7)),  
                       trans = "log10",  
                       breaks = c(.1,1,10,100, 1000)) +  
  geom_sf_text(aes(label = round(cases)),  
               col = "black",  
               size = 2) +  
* labs(fill = NULL)
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_13_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
  aes(fill = cases) +  
  scale_fill_gradientn(colours = rev(heat.colors(7)),  
                       trans = "log10",  
                       breaks = c(.1,1,10,100, 1000)) +  
  geom_sf_text(aes(label = round(cases)),  
               col = "black",  
               size = 2) +  
  labs(fill = NULL) +  
* theme_void()
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_14_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
  aes(fill = cases) +  
  scale_fill_gradientn(colours = rev(heat.colors(7)),  
                       trans = "log10",  
                       breaks = c(.1,1,10,100, 1000)) +  
  geom_sf_text(aes(label = round(cases)),  
               col = "black",  
               size = 2) +  
  labs(fill = NULL) +  
  theme_void() +  
* theme(plot.background = element_rect(fill = "grey98"))
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_15_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
  aes(fill = cases) +  
  scale_fill_gradientn(colours = rev(heat.colors(7)),  
                       trans = "log10",  
                       breaks = c(.1,1,10,100, 1000)) +  
  geom_sf_text(aes(label = round(cases)),  
               col = "black",  
               size = 2) +  
  labs(fill = NULL) +  
  theme_void() +  
  theme(plot.background = element_rect(fill = "grey98")) +  
* theme(legend.position = c(0.30, 0.3))
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_16_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
  aes(fill = cases) +  
  scale_fill_gradientn(colours = rev(heat.colors(7)),  
                       trans = "log10",  
                       breaks = c(.1,1,10,100, 1000)) +  
  geom_sf_text(aes(label = round(cases)),  
               col = "black",  
               size = 2) +  
  labs(fill = NULL) +  
  theme_void() +  
  theme(plot.background = element_rect(fill = "grey98")) +  
  theme(legend.position = c(0.30, 0.3)) +  
* labs(title = "Michigan COVID-19, Number of Cases by County 2020-Mar-25")
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_17_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
  aes(fill = cases) +  
  scale_fill_gradientn(colours = rev(heat.colors(7)),  
                       trans = "log10",  
                       breaks = c(.1,1,10,100, 1000)) +  
  geom_sf_text(aes(label = round(cases)),  
               col = "black",  
               size = 2) +  
  labs(fill = NULL) +  
  theme_void() +  
  theme(plot.background = element_rect(fill = "grey98")) +  
  theme(legend.position = c(0.30, 0.3)) +  
  labs(title = "Michigan COVID-19, Number of Cases by County 2020-Mar-25") +  
* labs(subtitle = "Data: https://www.michigan.gov/coronavirus | geography: US Census")
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_18_output-1.png" width="432" /&gt;
]]
---
class: split-40
count: false
 

 
.column[.content[

```r
options(scipen = 5)  
michigan2 %&gt;%  
  select(county, geometry) %&gt;%  
  left_join(mi_corona3) %&gt;%  
  mutate(cases = replace_na(cases, 0.1)) -&gt;  
joined  

joined %&gt;%  
  ggplot() +  
  geom_sf(color = "grey98",  
          size = 0.005) +  
  aes(fill = cases) +  
  scale_fill_gradientn(colours = rev(heat.colors(7)),  
                       trans = "log10",  
                       breaks = c(.1,1,10,100, 1000)) +  
  geom_sf_text(aes(label = round(cases)),  
               col = "black",  
               size = 2) +  
  labs(fill = NULL) +  
  theme_void() +  
  theme(plot.background = element_rect(fill = "grey98")) +  
  theme(legend.position = c(0.30, 0.3)) +  
  labs(title = "Michigan COVID-19, Number of Cases by County 2020-Mar-25") +  
  labs(subtitle = "Data: https://www.michigan.gov/coronavirus | geography: US Census") +  
* labs(caption = "Vis: Peter Higgins")
```
]]
.column[.content[
&lt;img src="peter_michigan_files/figure-html/peter_map4_auto_19_output-1.png" width="432" /&gt;
]]





&lt;style type="text/css"&gt;
.remark-code{line-height: 1.5; font-size: 60%}
&lt;/style&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:10",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  /* Replace <script> tags in slides area to make them executable
   *
   * Runs after post-processing of markdown source into slides and replaces only
   * <script>s on the last slide of continued slides using the .has-continuation
   * class added by xaringan. Finally, any <script>s in the slides area that
   * aren't executed are commented out.
   */
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container:not(.has-continuation) script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
  var scriptsNotExecuted = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container.has-continuation script'
  );
  if (!scriptsNotExecuted.length) return;
  for (var i = 0; i < scriptsNotExecuted.length; i++) {
    var comment = document.createComment(scriptsNotExecuted[i].outerHTML)
    scriptsNotExecuted[i].parentElement.replaceChild(comment, scriptsNotExecuted[i])
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
