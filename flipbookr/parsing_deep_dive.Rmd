---
title: "parsing deep dive"
subtitle: "that big pipeline for parsing"
author: "Gina Reynolds, December 2019"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["xaringan-themer.css", ninjutsu]
    nature:
      ratio: 30:10
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=F}
library(flipbookr)
library(tidyverse)
knitr::opts_chunk$set(fig.width = 6, message = F, warning = F, comment = "", cache = F)
```

```{r xaringan_look, include=F}
xaringanthemer::mono_accent(
  code_highlight_color = "rgba(255, 211, 0, .35)",
  base_color = "#03418A")
```




---

You can also look at this function in the source file:

https://github.com/EvaMaeRey/flipbookr/blob/master/R/base_parse_reveal_xaringan.R


Now lets walk through this pipeline inside `code_parse`


---

`r chunk_reveal("the_code_parsing", width_left = "32%", width_middle = "32%", width_right = "32%",  display_type = c("code", "func", "output"))`

```{r the_code_parsing, include=FALSE}
library(flipbookr)

create_code() %>%
  code_as_table() %>%
  code_as_table_process_break_messages() ->
hide_away

create_code() %>%
  r_code_base_parse() %>% 
  r_base_parsed_count_parentheses() ->
hide_again


create_code() %>% 
  r_code_full_parse() ->
hide_more

create_code() %>% 
  code_parse() %>% 
  parsed_calc_show() %>% 
  shown_lines_calc_highlight() ->
hiding
```

---

`r chunk_reveal("return_partial_and_sequence", width_left = "32%", width_middle = "32%", width_right = "32%",  display_type = c("code", "func", "output"), break_type = "rotate")`

```{r return_partial_and_sequence, eval = F, echo = F} 
create_code() %>% 
  code_parse() %>% 
  parsed_return_partial_code() #ROTATE
  parsed_left_assign_return_partial_code() #ROTATE
  parsed_return_partial_code_sequence() #ROTATE
  parsed_return_recent_function() #ROTATE
  parsed_return_recent_function_sequence() #ROTATE
```


---

`r chunk_reveal("returns", width_left = "32%", width_middle = "32%", width_right = "32%",  display_type = c("code", "func", "output"), break_type = "rotate")`

```{r returns, eval = F, echo = F} 
return_partial_chunks_template_code() #ROTATE
return_partial_chunks_template_output() #ROTATE
return_partial_chunks_template_function() #ROTATE
return_markdown(text = "my. short. text.", sep = "\\.") #ROTATE

```



---

`r chunk_reveal("last", width_left = "32%", width_middle = "32%", width_right = "32%",  display_type = c("code", "func", "output"), break_type = "rotate")`

```{r last, eval = F, echo = F} 
define_css() #ROTATE
chunk_expand() #ROTATE
chunk_reveal #ROTATE
```


```{css, eval = TRUE, echo = F}
.remark-code{line-height: 1.5; font-size: 70%}
```